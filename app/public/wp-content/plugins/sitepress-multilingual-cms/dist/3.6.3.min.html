<h1>Features</h1>

<ul>
<li>[wpmlcore-3937] Fixed issue with Enfold's page builder and new string translation workflow</li>
<li>[wpmlcore-3860] Fixed default locale for some affected languages</li>
<li>[wpmlcore-3773] Several security fixes</li>
<li>[wpmlcore-3597] WPML now scans for language switcher templates in the uploads folder</li>
<li>[wpmlcore-3510] Introduced a new generic shortcode for language switcher <code>wpml_language_switcher</code></li>
</ul>

<h1>Fixes</h1>

<ul>
<li>[wpmlmedia-114] Fixed retrieving gallery's images after changing the default language</li>
<li>[wpmlcore-4185] Removed Avada page builders integration.</li>
<li>[wpmlcore-4142] Fixed issue in user admin language when trying to set a language which is not an active WPML language</li>
<li>[wpmlcore-4042] Fixed issue in WPML wizard language not matching site language on fresh install</li>
<li>[wpmlcore-4035] Fixed issue when updating any WPML user field from other user</li>
<li>[wpmlcore-3943] Fixed issue with single sign-on when Object Cache is enabled using W3TC</li>
<li>[wpmlcore-3913] Added <code>wpml_duplicate_generic_string</code> in some locations to replace deprecated <code>icl_duplicate_generic_string</code></li>
<li>[wpmlcore-3910] Resolved compatibility issues with 'Twenty Seventeen` theme and translation of Theme Options</li>
<li>[wpmlcore-3903] Fixed issues for retrieving object terms in a language different than the request language (related to <code>wp_get_object_terms</code></li>
<li>[wpmlcore-3893] Fixed issue where an auto-draft draft is being assigned as a translation</li>
<li>[wpmlcore-3892] Fixed post relationship for Types plugin when saving posts</li>
<li>[wpmlcore-3889] Fixed fatal error during WPML setup (step 2) if not possible to connect to WP translation API</li>
<li>[wpmlcore-3886] Downloading and using <code>wpml-config.xml</code> for parent theme when available</li>
<li>[wpmlcore-3885] Fixed domain in the <code>content_url</code> function to match the current domain URL</li>
<li>[wpmlcore-3883] Fixed issue where translations can get disconnected when editing a duplicate post</li>
<li>[wpmlcore-3876] Added page builder requirements message for Divi theme</li>
<li>[wpmlcore-3866] Fixed some compatibility issues for language switcher in menus</li>
<li>[wpmlcore-3853] Fixed <code>SitePress::get_term_adjust_id</code> to retain the <code>object_id</code> if needed. Fixes missing WC product variations</li>
<li>[wpmlcore-3847] Fixed error on front-end when using WPML in Menus but with incomplete setup</li>
<li>[wpmlcore-3839] Fixed not saved settings when assigning a language switcher to a menu with a name in an encoded language (Hebrew, Chinese, ...)</li>
<li>[wpmlcore-3837] Fixed path returned by <code>get_home_path</code> when in the second language and using languages in domains</li>
<li>[wpmlcore-3797] Resolved JS conflict with ACF Pro, affecting WYSIWYG fields</li>
<li>[wpmlcore-3766] Applied some changes in WPML cookies: <code>wpml_referer_url</code> will be set on WCML and <code>_icl_current_language</code> will be set only if user is logged in</li>
<li>[wpmlcore-3427] Fixed redirection from URL with no language directory to URL with default language directory (applies with root page setup)</li>
<li>[wpmlcore-3411] Fixed some glitches for dropdown language switchers</li>
<li>[wpmlcore-3007] Fixed title sanitization when German (de_DE) and Danish (da_DA) languages are present</li>
</ul>
